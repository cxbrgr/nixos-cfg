services:
  comfyui:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: comfyui-custom
    restart: unless-stopped
    devices:
      - nvidia.com/gpu=all
    ports:
      - "10010:8188"
    volumes:
      # Standard Data Paths
      - /home/chrisleebear/data/docker/comfyui/output:/root/ComfyUI/output
      - /home/chrisleebear/data/docker/comfyui/input:/root/ComfyUI/input
      - /home/chrisleebear/data/ai/models:/root/ComfyUI/models
      # User Configuration & Workflows
      - /home/chrisleebear/data/docker/comfyui/user:/root/ComfyUI/user
      # Caches
      - /home/chrisleebear/data/docker/comfyui/cache/huggingface:/root/.cache/huggingface
      - /home/chrisleebear/data/docker/comfyui/cache/torch:/root/.cache/torch
      - /home/chrisleebear/data/docker/comfyui/cache/pip:/root/.cache/pip
    environment:
      - TZ=Europe/Vienna
      - CLI_ARGS=
